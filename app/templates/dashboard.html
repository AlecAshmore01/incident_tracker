{% extends 'base.html' %}
{% block title %}Dashboard{% endblock %}

{% block content %}
  <h2>Analytics Dashboard</h2>
  <div class="row gy-4">
    <div class="col-md-6">
      <h4>By Status</h4>
      <canvas id="statusChart"></canvas>
    </div>
    <div class="col-md-6">
      <h4>Top Categories</h4>
      <canvas id="categoryChart"></canvas>
    </div>
    <div class="col-12">
      <h4>Last 30 Days</h4>
      <canvas id="timeChart"></canvas>
    </div>
    <div class="col-12">
      <h4>Average Resolution Time</h4>
      <p><strong id="avgTime">â€”</strong> hours (closed incidents only)</p>
    </div>
  </div>
{% endblock %}

{% block scripts %}
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
{% endblock %}
